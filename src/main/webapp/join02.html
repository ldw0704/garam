<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="css/style.css">
<title>회원가입</title>
</head>
<body class="page07">
<div class="">
	<div class="jointit w100 tC"><b>회원가입</b></div>
	<form method="post" action="join03.html" onsubmit="return join02();">
	<div class="pd16">	
		<!--이름-->
		<div>
			<h4>이름</h4>
			<input type="text" name="" id="uname" value="" required="required">
		</div>
		<!--학교-->
		<div>
			<h4>학교</h4>
			<input type="text" name="" id="school" value="" required="required">
		</div>
		<!--학년반-->
		<div>
			<h4>학년/반</h4>
			<input type="text" name="" id="grade" value="" required="required">
		</div>
		<!--휴대폰번호-->
		<div>
			<h4>휴대폰번호<span>(※휴대폰 번호가 ID로 설정됩니다.)</span></h4>
			<input type="text" name="" id="utel" value="" required="required">
		</div>
		<!--비밀번호-->
		<div>
			<h4>비밀번호<span>(※최대 12자리.)</span></h4>
			<input type="password" name="" id="pw" value="" required="required" onfocusout="pwchk(this);">
		</div>
		<!--비밀번호확인-->
		<div>
			<h4>비밀번호확인</h4>
			<input type="password" name="" id="pw2" value="" required="required">
		</div>
		<!--노선-->
		<div>
			<h4>노선</h4>
			<div  class="sltbox">
				<select name="" id="road" onchange="selRoad();">
					<option value="">노선선택</option>					
					<option value="A">A노선</option>
					<option value="B">B노선</option>
					<option value="C">C노선</option>
				</select>
			</div>
		</div>
		<!--탑승장소-->
		<div>
			<h4>탑승장소<span>(※노선을 먼저 선택해주세요)</span></h4>
			<div  class="sltbox">
				<select name="" id="place">
					<option value="">장소선택</option>
					<option value="A">A장소</option>
					<option value="B">B장소</option>
					<option value="C" >C장소</option>
				</select>
			</div>
		</div>
		
		<!--가입하기-->
		<div class="tC">
			<button type="submit">가입하기</button>
		</div>			
	</div>
	</form>	
</div>
<script>
function selRoad(){
	let place = document.getElementById("place");
	place.options[0].selected = true;
	console.log("노선변경");
}

function join02(){
	let pw = document.getElementById("pw");
	let pw2 = document.getElementById("pw2");
		
	if(pw.value !== pw2.value){
		alert("비밀번호 일치하지 않음");				
		pw.value = "";
		pw2.value = "";
		//pw.focus();
		return false;
	}
	
	let road = document.getElementById("road");
	if(road.selectedIndex == 0){
		alert("노선선택 안됨");
		road.focus();		
		return false;
	}
	
	let place = document.getElementById("place");
	if(place.value == ""){
		alert("장소선택 안됨");
		place.focus();
		return false;
	}
	
	console.log("가입하기 버튼이 눌림");
	return true;
}
/* 정규표현식은 /~/로 묶어준다 */
function pwchk(t){
	if(t.value.length >=8 && t.value.length <= 12){		
		let regE = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/;
		
		if(!regE.test(t.value)){
		    alert("비밀번호 숫자, 영문자, 특수문자를 포함해야함");	
		    return false;
		}
	}else{
		alert("비밀번호는 8자이상 12글자이하로 작성");		
	}
	console.log("sdf"+t.value.length);
}
</script>
</body>
</html>